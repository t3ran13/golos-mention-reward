# Откат

Скрипт для вознаграждения апвоутеров из авторского вознаграждения, выплаченного за пост в GBG.

## Установка

Для работы скрипта требуется node.js версии 8 и выше. Взять можно по этой ссылке https://nodejs.org/en/download/package-manager/

Распакуйте архив со скриптами и в директории со скриптами выполните комманду ```npm install``` для установки дополнительных npm модулей.

## Настройка

В архиве находится пример конфигурационного файла config.json.example. Переименуйте его в config.json и отредактируйте.

* golos_node - нода golos, по умолчанию используется публичная нода golos.io wss://ws.golos.io
* userid - имя аккаунта на голосе, от имени которого будут выплачиваться вознаграждения
* key" - приватный активный ключ. Начинается с 5...
* voter_reward_percent - процент от авторского вознаграждения распределяемый среди проголосовавших
* memo - текст для заметки в переводе. Будет дополнен линком на пост.
* bypass - список пользователей, котором не будут делатся выплаты (в ковычках, через запятую)

## Запуск

В директории со скриптом выполните команду  ```node index permlink=socrealizm-kotorogo-vy-ne-videli-7```

где permlink=socrealizm-kotorogo-vy-ne-videli-7 это ссылка на пост в локчейне. Ее можно получить в URL браузера, последняя часть после "/". https://golos.io/ru--iskusstvo/@siberianshamen/socrealizm-kotorogo-vy-ne-videli-7

без других дополнительных параметров, скрипт соберет все данные о выплаченных авторских вознаграждениях за пост, покажет сводную информацию и приостановит дальнейшее выполнения. Чтобы продолжить, надо нажать любой пробел. В этом режиме не будут произведены выплаты, а только симуляция с выводом на экран выплат сумм выплат.

Для реального запуска добавьте параметр broadcast к команде.

```node index permlink=socrealizm-kotorogo-vy-ne-videli-7 broadcast```

В этом случае скрипт покажет сводную информацию и приостановит свою работу на 5 секунд, после чего сделает переводы проголосовавшим. Можно отменить выполнение Ctrl-C.

Дополнительные параметры

* debug дополнительно отладочную информацию
* trace еще больше отладочной информации
* ignorecheck скрипт не останавливается, если на балансе не достаточно средств для перевода. 











